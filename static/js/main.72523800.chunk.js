(this["webpackJsonpsocial-ball-react"]=this["webpackJsonpsocial-ball-react"]||[]).push([[0],{17:function(e,t,a){},22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(19),l=a.n(r),i=(a(27),a(9)),o=a(10),c=a(12),u=a(11),m=a(5),h=a(7);a(17),a(28);function d(e){return s.a.createElement("label",null,e.label,s.a.createElement("input",{value:e.value,name:e.name,type:e.type,onChange:function(t){return e.onChange(t)}}),s.a.createElement("div",{className:"error-message"},e.error))}var p=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=n.state.fields,a=e.target,s=a.name,r="hasAccepted"===s?a.checked:a.value;t[s]=r;var l=n.state.errors;switch(s){case"firstName":l.firstName=r.length<1?"Imi\u0119 nie moze by\u0107 puste!":null;break;case"lastName":l.lastName=r.length<1?"Nazwisko nie mo\u017ce by\u0107 puste!":null;break;case"email":var i=RegExp(/^(([^<>()\\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i);l.email=i.test(r)?null:"To nie jest poprawny adres email";break;case"birthday":var o=new Date(r),c=new Date;c.setFullYear(c.getFullYear()-13),l.birthday=o<c?null:"\u017beby samodzielnie si\u0119 zarejestrowa\u0107 musisz mie\u0107 uko\u0144czone 13 lat";break;case"password":l.password=r.length<8?"Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w":null;break;case"replyPassword":l.replyPassword=r===t.password?null:"Has\u0142a musz\u0105 by\u0107 identyczne";break;case"hasAccepted":l.hasAccepted=r?null:"Zgoda jest wymagana"}n.setState({fields:t,errors:l,isSubmitButtonEnabled:null===l.firstName&&null===l.lastName&&null===l.email&&null===l.password&&null===l.birthday&&null===l.replyPassword&&null===l.hasAccepted})},n.renderErrorMessage=function(e){return e?s.a.createElement("div",{className:"error-message"},e):null},n.onSubmit=function(e){e.preventDefault();var t=n.state.fields;fetch("http://localhost:8091/users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:Math.floor(1e3*Math.random()),firstName:t.firstName,lastName:t.lastName,dateOfBirth:new Date(t.birthday).toISOString().split("T")[0],password:t.password,email:t.email,username:t.email})}).then((function(e){return 200===e.status&&n.setState({isRegistrationSuccessful:!0}),e.json()})).then((function(e){e.message&&alert(e.message)}))},n.state={fields:{hasAccepted:!1},errors:{},isSubmitButtonEnabled:!1,isRegistrationSuccessful:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return!0===this.state.isRegistrationSuccessful?s.a.createElement(m.a,{to:"/login"}):s.a.createElement("div",{className:"registration-card"},s.a.createElement("h1",null,"Rejestracja"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement(d,{label:"Imi\u0119",name:"firstName",type:"text",value:this.state.fields.firstName||"",onChange:this.handleInputChange,error:this.state.errors.firstName}),s.a.createElement(d,{label:"Nazwisko",name:"lastName",type:"text",value:this.state.fields.lastName||"",onChange:this.handleInputChange,error:this.state.errors.lastName}),s.a.createElement(d,{label:"Data urodzenia",name:"birthday",type:"date",value:this.state.fields.birthday||"",onChange:this.handleInputChange,error:this.state.errors.birthday}),s.a.createElement(d,{label:"Adres e-mail",name:"email",type:"email",value:this.state.fields.email||"",onChange:this.handleInputChange,error:this.state.errors.email}),s.a.createElement(d,{label:"Has\u0142o",name:"password",type:"password",value:this.state.fields.password||"",onChange:this.handleInputChange,error:this.state.errors.password}),s.a.createElement(d,{label:"Powt\xf3rz has\u0142o",name:"replyPassword",type:"replyPassword",value:this.state.fields.replyPassword||"",onChange:this.handleInputChange,error:this.state.errors.replyPassword}),s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",name:"hasAccepted",checked:this.state.fields.hasAccepted,onChange:this.handleInputChange}),"Akceptuj\u0119 warunki regulaminu (wymagane)",this.renderErrorMessage(this.state.errors.hasAccepted)),s.a.createElement("input",{type:"submit",value:"Zarejestruj si\u0119",disabled:!this.state.isSubmitButtonEnabled}),s.a.createElement("p",null,"Masz ju\u017c konto? ",s.a.createElement(h.b,{to:"/"},"Przejd\u017a do logowania"))))}}]),a}(s.a.Component),g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=n.state.fields,a=e.target,s=a.name,r="keepLoggedIn"===s?a.checked:a.value;t[s]=r;var l=n.state.errors;switch(s){case"email":var i=RegExp(/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i);l.email=i.test(r)?null:"To nie jest poprawny adres email";break;case"password":l.password=r.length<8?"Has\u0142o musi mie\u0107 przynajmniej 8 znak\xf3w":null}n.setState({fields:t,errors:l,isSubmitButtonEnabled:null===l.email&&null===l.password})},n.onSubmit=function(e){e.preventDefault(),fetch("http://localhost:8091/token/generate-token",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n.state.fields)}).then((function(e){return 200===e.status&&n.setState({isLoginSuccessful:!0}),console.log(e.status),e.json()})).then((function(e){e.message&&alert(e.message)}))},n.state={fields:{keepLoggedIn:!1},errors:{},isSubmitButtonEnabled:!1,isLoginSuccessful:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return!0===this.state.isLoginSuccessful?s.a.createElement(m.a,{to:"/profile"}):s.a.createElement("div",{className:"registration-card"},s.a.createElement("h1",null,"Logowanie"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement(d,{label:"Adres e-mail",type:"email",name:"email",value:this.state.fields.email||"",onChange:this.handleInputChange,error:this.state.errors.email}),s.a.createElement(d,{label:"Has\u0142o",type:"password",name:"password",value:this.state.fields.password||"",onChange:this.handleInputChange,error:this.state.errors.password}),s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",name:"keepLoggedIn",checked:this.state.fields.keepLoggedIn,onChange:this.handleInputChange}),"Nie wylogowuj mnie"),s.a.createElement("input",{type:"submit",value:"Zaloguj si\u0119",disabled:!this.state.isSubmitButtonEnabled}),s.a.createElement("p",null,"Nie masz konta? ",s.a.createElement(h.b,{to:"/register"},"Zarejestruj si\u0119!"))))}}]),a}(s.a.Component);function b(){return s.a.createElement("span",null,"Witaj na swoim profilu!")}a(34);var f=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(h.a,null,s.a.createElement("div",{className:"container"},s.a.createElement(m.b,{exact:!0,path:"/",component:g}),s.a.createElement(m.b,{path:"/login",component:g}),s.a.createElement(m.b,{path:"/register",component:p}),s.a.createElement(m.b,{path:"/profile",component:b}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.72523800.chunk.js.map